<!--
  ~ Copyright (c) 2025 vinuth sri arampath
  ~
  ~ This code is the intellectual property of vinuth sri arampath and is protected under copyright law.
  ~ Unauthorized copying, modification, distribution, or use of this code, in whole or in part,
  ~ without prior written permission is strictly prohibited.
  ~
  ~ Portions of this code may be generated with AI and modified by vinuth sri arampath
  ~ All rights reserved.
  -->

<div class="bg-gray-50 text-gray-900 h-screen flex flex-col">
    <header class="bg-blue-900 shadow-lg">
      <div class="container mx-auto px-2 sm:px-4 py-6 flex flex-col md:flex-row items-center justify-between">
        <div class="flex items-center justify-between w-full md:w-auto">
          <a [routerLink]="['']" routerLinkActive="router-link-active">
            <h1 class="text-white text-2xl sm:text-3xl font-bold">TuitionToAll</h1>
          </a>
        </div>
      </div>
    </header>
    <div class="flex-1 flex overflow-hidden bg-gray-300/50">
      <div class="flex-1 flex justify-around items-center">
        <div class="w-auto sm:w-lg p-5 sm:p-10 rounded-md shadow-xl drop-shadow-lg bg-white shadow-gray-600">

          <h1 class="text-2xl sm:text-4xl font-bold mb-2">Welcome Back!</h1>
          <p class="text-gray-600 mb-4 sm:mb-8">Sign in to continue to your dashboard</p>

          <div *ngIf="errorMessage" class="w-full text-white bg-red-500 mb-4">
            <div class="container flex items-center justify-between px-6 py-4 mx-auto">
                <div class="flex">
                    <svg viewBox="0 0 40 40" class="w-6 h-6 fill-current">
                        <path d="M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z">
                        </path>
                    </svg>

                    <p class="mx-3">{{errorMessage}}</p>
                </div>
            </div>
          </div>

          <label for="email" class="block text-md text-gray-700">Email Address</label>
          <div class="relative flex items-center my-2 sm:my-4">
            <span class="absolute">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mx-3 text-gray-400">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
              </svg>
            </span>
            <input type="email" [(ngModel)]="userLoginRequest.email" placeholder="john@example.com" name="email" class="block w-full py-2.5 text-gray-700 placeholder-gray-400 bg-white border border-gray-400 rounded-lg pl-11 pr-5 rtl:pr-11 rtl:pl-5 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40" required  #email="ngModel">
          </div>
          <div *ngIf="email.invalid && email.touched" class="text-red-500">
            <div *ngIf="email.errors?.['required']">Email is required.</div>
            <div *ngIf="email.errors?.['email']">Please enter a valid email address.</div>
          </div>

          <label for="password" class="block text-md text-gray-700">Password</label>
          <div class="relative flex items-center my-2 sm:mt-4">
            <span class="absolute">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mx-3 text-gray-400">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z" />
              </svg>
            </span>
            <input type="password" [(ngModel)]="userLoginRequest.password" placeholder="************" name="password" class="block w-full py-2.5 text-gray-700 placeholder-gray-400 bg-white border border-gray-400 rounded-lg pl-11 pr-5 rtl:pr-11 rtl:pl-5 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40" required minlength="8" #password="ngModel">
          </div>
          <div *ngIf="password.invalid && password.touched" class="text-red-500">
            <div *ngIf="password.errors?.['required']">Password is required.</div>
            <div *ngIf="password.errors?.['minlength']">Password must be at least 6 characters long.</div>
          </div>

          <a href="#" class="text-blue-600 font-semibold flex justify-end my-3">Forgot Password?</a>

          <button type="button" class="bg-blue-900 text-gray-200 font-semibold rounded-md w-full py-2 " [ngClass]="{'cursor-not-allowed': email.invalid || password.invalid , 'cursor-pointer': !email.invalid  && !password.invalid}"  (click)="login()" [disabled]="email.invalid || password.invalid">

          <span *ngIf="!isLoading">Login</span>
          <span *ngIf="isLoading">Loading...</span>
        </button>

          <div class="flex items-center gap-2 font-light my-3">
            <span class="flex-1 border-t border-gray-500"></span>
            <span class="text-gray-700">New to TuitionToAll?</span>
            <span class="flex-1 border-t border-gray-500"></span>
          </div>
          <a [routerLink]="['/auth/signup']" routerLinkActive="router-link-active" ><input type="button" value="Register" class="text-black border border-black font-semibold rounded-md w-full py-2 cursor-pointer"></a>
        </div>
      </div>

      <div class="hidden sm:hidden lg:block flex-1 bg-gray-100">
        <img src="loginpage_pic.jpg" alt="Login Image" class="w-full h-full object-cover">
      </div>
    </div>
  </div>
